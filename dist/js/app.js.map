{"version":3,"sources":["../../src/js/app.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["\n\nfunction cancelEvent(e, bubbling=true){\n  e.preventDefault();\n  if( bubbling ) e.stopPropagation();\n}\n\n\nclass TodoList {\n  constructor(selector) {\n    this.list = [];\n    this.$el = document.querySelector(selector);\n  }\n\n  add(todo) {\n    this.list.push(todo);\n    todo.$parent = this.$el;\n    todo.render();\n  }\n}\n\n\nclass Todo {\n  constructor(label) {\n    this.label = label;\n    this.done = false;\n    this.editing = false;\n    this.$el = null;\n    this.$label = null;\n    this.$input = null;\n    this.$parent = null;\n    this.buildHtml();\n    this.bindEvents();\n  }\n\n  buildHtml() {\n    let $li = document.createElement(\"li\"),\n        $label = document.createElement(\"label\"),\n        $input = document.createElement(\"input\");\n\n    $li.className = \"todo\";\n    $label.className = \"todo__label\";\n    $label.innerHTML = this.label;\n    $input.className = \"todo__input\";\n    $input.type = \"text\";\n    $input.value = \"\";\n\n    $li.appendChild($input);\n    $li.appendChild($label);\n\n    this.$el = $li;\n    this.$label = $label;\n    this.$input = $input;\n  }\n\n  bindEvents() {\n    let clickEvent = \"ontouchstart\" in window ? \"touchend\" : \"click\";\n    this.$el.addEventListener(clickEvent, this.handleClick.bind(this), false);\n    this.$label.addEventListener(clickEvent, this.handleLabelClick.bind(this), false);\n    this.$input.addEventListener(\"change\", this.handleInputChange.bind(this), false);\n    this.$input.addEventListener(\"blur\", this.handleInputChange.bind(this), false);\n  }\n\n  handleClick(e) {\n    cancelEvent(e);\n    if( this.editing ) return;\n    if( this.done ){\n      this.done = false;\n      this.$el.className = \"todo\";\n      this.$label.className = \"todo__label\";\n    }else{\n      this.done = true;\n      this.$el.className = \"todo--done\";\n      this.$label.className = \"todo__label--done\";\n    }\n  }\n\n  handleLabelClick(e) {\n    cancelEvent(e);\n    if( this.done || this.editing ) return;\n    this.select();\n  }\n\n  handleInputChange(e) {\n    this.unselect();\n  }\n\n  render() {\n    if( this.$parent == null ) return;\n    this.$parent.appendChild(this.$el);\n  }\n\n  select() {\n    if( this.done || this.editing ) return;\n    this.editing = true;\n    this.$el.className = \"todo--editing\";\n    this.$label.className = \"todo__label--editing\";\n    this.$input.className = \"todo__input--editing\";\n    this.$input.value = this.label;\n    this.$input.focus();\n  }\n\n  unselect() {\n    if( this.done ) return;\n    let value = this.$input.value.trim();\n\n    if( !value ){\n      return;\n    }\n\n    this.editing = false;\n    this.label = value;\n    this.$el.className = \"todo\";\n    this.$label.className = \"todo__label\";\n    this.$label.innerText = value;\n    this.$input.className = \"todo__input\";\n  }\n}\n\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  let todoList = new TodoList(\"#todo-list\");\n  todoList.add(new Todo(\"Todo Title 1\"));\n  todoList.add(new Todo(\"Todo Title 2\"));\n  todoList.add(new Todo(\"Todo Title 3\"));\n}, false);"]}